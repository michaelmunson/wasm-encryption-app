<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>ClientCrypt</title>
    <link href="./index.css" rel="stylesheet">
  </head>
  <body class="password-input-mode">
    
    <div id="app">
        
        <!-- HEADER -->
        <header class="password-input-mode">
            <hgroup>
                <h1></h1>
            </hgroup>
            <div id="password-input" class="password-input-mode">
                <div>
                    <div>Enter Encryption Key</div>
                    <label>
                        >
                        <input
                            type="password"
                            onkeypress="
                                function pswdkeydown(e){
                                    if (e.keyCode === 13){
                                        document.querySelectorAll('.password-input-mode')
                                        .forEach(element => element.classList.remove('password-input-mode'))
                                    }
                                }
                                return pswdkeydown(event)
                            "/>
                    </label>
                </div>
                
            </div>
        </header>
        <!-- MAIN -->
        <main class="password-input-mode">
            <details open>
                <summary>&nbsp;<span>File Input</span></summary>
                <div class="details-content">
                    <div id="file-encryption">
                        <label class="file-upload-button">
                            Encrypt File
                            <input type="file" data-role="encrypt" accept=".txt"/>
                        </label>
                        <label class="file-upload-button secondary">
                            Decrypt File
                            <input type="file" data-role="decrypt"/>
                        </label>
                    </div>
                </div>
            </details>
            <details>
                <summary>&nbsp;<span>Text Input</span></summary>
                <div class="details-content">
                    <textarea id="text-input" rows="20" placeholder="Secretive Text Here..."></textarea>
                </div>
            </details>
            <a id="download-anchor"></a>
        </main>
    </div>
    <script type="module" src="./index.js"></script>    
    <!-- <script type="module">
      import init, {encode_decode_demo} from "./pkg/hello_wasm.js";
      init().then(() => {
        document.querySelectorAll('#file-encryption input').forEach(element => {
            element.addEventListener('change', function(){
                const files = this.files; 
                console.log(files);
            })
        })
      });
    </script> -->
  </body>
</html>
